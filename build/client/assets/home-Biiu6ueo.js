import{w as h}from"./with-props-BMOtgW5C.js";import{a as o,o as e}from"./chunk-D4RADZKF-BXVSF3ox.js";const x=()=>{const[n,r]=o.useState(null),[a,d]=o.useState([]),i=o.useRef(null),p=s=>{const t=s.target.files;if(t&&t.length>0){const l=t[0];l.type==="application/pdf"?r(l):alert("Please upload a valid PDF file")}else alert("No file selected.")},m=async()=>{if(!n){alert("No file selected!");return}const s=new FormData;s.append("pdf",n);try{const l=await(await fetch("https://testify-backend-zxg4.onrender.com/upload",{method:"POST",body:s})).json();console.log("Server response:",l.questions),d(l.questions)}catch(t){console.error("Upload error:",t)}},c=()=>{var s;(s=i.current)==null||s.click()};return e.jsxs("div",{children:[e.jsx("h1",{className:"mt-5 ml-10 text-5xl text-blue-700",children:"TESTify"}),e.jsx("p",{className:"ml-10",children:"Test your knowledge"}),e.jsxs("div",{className:"m-25 justify-items-center",children:[e.jsx("img",{className:"w-35",src:"../../upload-solid.svg",alt:"",onClick:c}),e.jsx("h6",{className:"text-center m-3 text-5xl",onClick:c,children:"Upload your PDF file"}),e.jsx("input",{className:"hidden",ref:i,type:"file",accept:"application/pdf",onChange:p}),n&&e.jsxs("p",{className:"ml-10 mt-2 text-gray-700",children:["Selected PDF: ",n.name]}),e.jsx("button",{onClick:m,className:"bg-blue-500 text-white px-4 py-2 rounded mt-4",children:"Generate Questions"})]}),e.jsx("div",{className:"mt-6 ml-10",children:a&&a.length>0&&e.jsx("div",{children:a.map((s,t)=>e.jsxs("div",{children:[e.jsx("p",{children:s.question}),s.options.map((l,u)=>e.jsxs("div",{children:[e.jsx("input",{type:"radio",name:`q-${t}`,value:l}),e.jsx("label",{children:l})]},u))]},t))})})]})},g=h(x);export{g as default};
